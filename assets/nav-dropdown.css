/* /assets/nav-dropdown.css (v2) */
/* Ziel:
   - iPad/desktop: echtes Dropdown (Overlay unter "Leistungen"), NICHT DropRight
   - iPhone: "Leistungen" wie die anderen Buttons, zentriert, nicht zu breit
   - Safari: nativer details/summary Marker weg
*/

:root{
  --dd-bg: rgba(10,10,12,.92);
  --dd-br: rgba(255,255,255,.10);
  --dd-sh: 0 18px 60px rgba(0,0,0,.55);
}

/* nichts clippen */
header, .nav, .menu { overflow: visible; }

/* Wrapper */
.navdrop{
  position: relative;
  display: inline-block;
  vertical-align: middle;
}

/* Summary = "Leistungen" */
.navdrop__sum{
  display: inline-flex;
  align-items: center;
  gap: 6px;

  cursor: pointer;
  user-select: none;

  /* reset */
  background: none;
  border: 0;
  padding: 0;
  margin: 0;
  color: inherit;
  font: inherit;
  line-height: 1;
  list-style: none;
}

/* Safari marker killen (dein "stumpfer Pfeil") */
.navdrop__sum::-webkit-details-marker{ display:none; }
.navdrop__sum::marker{ content:""; }
.navdrop, .navdrop__sum{ list-style:none; }

/* Chevron */
.navdrop__chev{
  display:inline-block;
  transform: translateY(1px);
  opacity:.85;
  transition: transform .18s ease, opacity .18s ease;
}
.navdrop[open] .navdrop__chev{
  transform: rotate(180deg) translateY(-1px);
  opacity: 1;
}

/* =========================
   DESKTOP / iPAD: Overlay Panel
   ========================= */
.navdrop__panel{
  position: absolute;
  top: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;

  width: max-content;
  min-width: 220px;
  max-width: min(360px, calc(100vw - 24px));

  padding: 10px;
  border-radius: 14px;
  background: var(--dd-bg);
  border: 1px solid var(--dd-br);
  box-shadow: var(--dd-sh);
  backdrop-filter: blur(10px);

  /* HART als Liste – verhindert "DropRight" durch globale Menu/Flex Styles */
  display: none !important;
  flex-direction: column;
  gap: 6px;
}

.navdrop[open] .navdrop__panel{
  display: flex !important;
}

/* Links IM Panel: globales .menu a darf hier NICHT reinfunken */
.navdrop__panel a{
  display: block !important;
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  text-decoration: none;
  color: inherit;

  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
}

.navdrop__panel a:hover{
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.12);
}

.navdrop__sep{
  height: 1px;
  background: rgba(255,255,255,.10);
  margin: 6px 6px;
}

/* =========================
   MOBILE: Burger-Overlay
   ========================= */
/* Wenn dein Burger-Menü offen ist (data-open="1") */
.menu[data-open="1"] .navdrop{
  width: 100%;
  display: block;
}

/* "Leistungen" soll wie die anderen Pills aussehen & mittig sein */
.menu[data-open="1"] .navdrop__sum{
  padding: 12px 16px;
  border-radius: 16px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);

  width: fit-content;
  margin: 0 auto;              /* zentriert */
}

/* Panel im Burger: als Block unter dem Button (im Overlay ok) */
.menu[data-open="1"] .navdrop__panel{
  position: static;
  transform: none;

  width: min(420px, calc(100vw - 40px));
  max-width: none;
  min-width: 0;

  margin: 10px auto 0;
  display: none !important;
}

.menu[data-open="1"] .navdrop[open] .navdrop__panel{
  display: flex !important;
}
